# Универсальный шаблон для PDF-документов по обращению с отходами

Этот проект предоставляет универсальный HTML-шаблон для генерации PDF-документов, связанных с обращением с отходами. Шаблон поддерживает различные типы операций: доставка, утилизация, переработка, образование, накопление и обезвреживание отходов.

## Структура проекта

- `templates/universal.html` - универсальный HTML-шаблон для генерации PDF
- `templates/result.html` - шаблон для отображения результатов генерации PDF
- `examples/` - примеры JSON-данных для разных типов документов
- `app.py` - Flask-приложение для генерации PDF из JSON-данных

## Установка и запуск

1. Установите необходимые зависимости:

```
pip install -r requirements.txt
```

2. Установите wkhtmltopdf с [официального сайта](https://wkhtmltopdf.org/downloads.html).

3. Запустите приложение:

```
python app.py
```

4. Откройте http://localhost:5000 в браузере.

## Использование универсального шаблона

Универсальный шаблон (`templates/universal.html`) поддерживает различные параметры JSON для генерации документов по обращению с отходами. Вы можете использовать его для создания разных типов документов, указав соответствующие параметры.

### Основные параметры шаблона

| Параметр | Описание | Пример |
|----------|----------|--------|
| `operation_type` | Тип операции с отходами | "доставка", "утилизация", "переработка", "образование", "накопление", "обезвреживание" |
| `document_number` | Номер документа | "УТ-2023/087" |
| `date` | Дата составления документа | "23.06.2023" |
| `location` | Место составления документа | "г. Подольск" |
| `organization` | Название организации | "ЗАО \"ЭкоПолигон\"" |
| `address` | Адрес организации | "142100, Московская обл., г. Подольск, ул. Промышленная, д. 5" |
| `contact_person` | Контактное лицо | "Смирнов Алексей Николаевич" |
| `wastes` | Массив данных об отходах | См. примеры ниже |
| `show_number` | Показывать ли номера строк в таблице отходов | true/false |
| `show_total` | Показывать ли итоговую строку в таблице отходов | true/false |
| `total_quantity` | Итоговое количество отходов | "505" |

### Специфические параметры для разных типов операций

#### Доставка отходов
- `transport_info` - информация о транспортировке (тип ТС, водитель, маршрут)

#### Утилизация отходов
- `utilization_results` - результаты утилизации отходов

#### Переработка отходов
- `processing_results` - результаты переработки отходов

#### Образование отходов
- `source_info` - источники образования отходов

#### Накопление отходов
- `storage_info` - информация о месте накопления отходов

#### Обезвреживание отходов
- `neutralization_methods` - методы обезвреживания отходов

## Примеры JSON-данных

В директории `examples/` находятся примеры JSON-данных для разных типов документов:

- `delivery.json` - доставка отходов
- `utilization.json` - утилизация отходов
- `processing.json` - переработка отходов
- `formation.json` - образование отходов
- `storage.json` - накопление отходов
- `neutralization.json` - обезвреживание отходов

## Генерация PDF

Для генерации PDF вы можете использовать:

1. Веб-интерфейс (http://localhost:5000) - загрузите JSON-данные и выберите тип документа
2. API-вызов:

```
POST /generate
Content-Type: application/x-www-form-urlencoded

json_input={"operation_type": "доставка", ...}
```

## Настройка внешнего вида

Шаблон содержит встроенные CSS-стили, которые можно модифицировать для изменения внешнего вида документа. Основные стили определены в начале файла `templates/universal.html`. 